<!doctype html>
<html lang="en-US">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Quickstart | Dispatch Serverless Framework</title>
<meta property="og:title" content="Quickstart" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Quickstart" />
<meta property="og:description" content="Quickstart" />
<link rel="canonical" href="http://localhost:4000/dispatch/documentation/guides/quickstart" />
<meta property="og:url" content="http://localhost:4000/dispatch/documentation/guides/quickstart" />
<meta property="og:site_name" content="Dispatch Serverless Framework" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-06-11T14:24:45-07:00" />
<script type="application/ld+json">
{"name":null,"description":"Quickstart","author":null,"@type":"BlogPosting","url":"http://localhost:4000/dispatch/documentation/guides/quickstart","publisher":null,"image":null,"headline":"Quickstart","dateModified":"2018-06-11T14:24:45-07:00","datePublished":"2018-06-11T14:24:45-07:00","sameAs":null,"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/dispatch/documentation/guides/quickstart"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/dispatch/assets/node_modules/@clr/icons/clr-icons.min.css">
    <script src="/dispatch/assets/node_modules/@webcomponents/custom-elements/custom-elements.min.js"></script>
    <script src="/dispatch/assets/node_modules/@clr/icons/clr-icons.min.js"></script>
    <script src="/dispatch/assets/node_modules/anchor-js/anchor.js"></script>
    <link rel="stylesheet" href="/dispatch/assets/node_modules/@clr/ui/clr-ui.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>
    <link rel="stylesheet" href="/dispatch/assets/css/style.css?v=cd131ece455317a0ce1219b8b78ef55e8e6bf546">
    <meta name="viewport" content="width=device-width">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/dispatch/assets/images/dispatch.ico/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/dispatch/assets/images/dispatch.ico/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="/dispatch/assets/images/dispatch.ico/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/dispatch/assets/images/dispatch.ico/favicon-16x16.png" sizes="16x16" />
    <meta name="application-name" content="&nbsp;"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="/dispatch/assets/images/dispatch.ico/mstile-144x144.png" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
    <body>
        <clr-main-container class="main-container">
        <clr-header class="header-6 header">
    <button class="header-hamburger-trigger" type="button">
        <span></span>
    </button>

    <div class="branding">
        <a class="logo-and-title" routerlink="/" href="http://github.com/vmware/dispatch">
            <!-- <span class="clr-icon clarity-logo"></span>
            <span class="title">Project Dispatch</span> -->
            <img class="dispatch-logo" src="/dispatch/assets/images/logo-small-200.png">
        </a>
    </div>
    <div class="divider"></div>
    <div class="header-nav clr-nav-level-1">
        <a class="nav-link " id="home-link" routerlink="/" routerlinkactive="active" href="/dispatch/"><span class="nav-text">Home</span></a>
        <a class="nav-link active" routerlink="/documentation" routerlinkactive="active" href="/dispatch/documentation/front/overview"><span class="nav-text">Documentation</span></a>
        <a class="nav-link " routerlink="/code" routerlinkactive="active" href="/dispatch/code"><span class="nav-text">Code</span></a>
        <a class="nav-link " routerlink="/community" routerlinkactive="active" href="/dispatch/community"><span class="nav-text">Community</span></a>
        <a class="nav-link " routerlink="/news" routerlinkactive="active" href="/dispatch/news"><span class="nav-text">What's New</span></a>
    </div>
    <div class="settings">
        <iframe class="github-btn" frameborder="0" height="20px" scrolling="0" src="https://ghbtns.com/github-btn.html?user=vmware&repo=dispatch&type=star&count=true" width="170px"></iframe>
    </div>

    <button class="header-overflow-trigger" type="button">
        <span></span>
    </button>
    <div class="header-backdrop"></div>
</clr-header>

            <documentation class="content-container"><router-outlet></router-outlet>
                <div class="content-area">
                    <section class="dox-content">
                    <h1 id="quickstart">Quickstart</h1>

<p>Dispatch depends on kubernetes.  To get stared quickly we recommend using minikube, however there are some gotchas
with regards to exactly how to configure minikube.  Please see <a href="minikube.html">Installing Kubernetes via Minikube for Dispatch</a>.  You should now have a working kubernetes cluster.</p>

<p>If you have any issues during installation, please see <a href="troubleshooting.html">Troubleshooting Dispatch</a>.</p>

<h2 id="download-dispatch-cli">Download Dispatch CLI</h2>
<p>Get the dispatch command, make it executable, and put it in your path (if you are using the Linux VM from the minikube
instalation, you may skip this step):</p>

<h4 id="get-the-latest-release-version">Get the Latest Release Version</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">LATEST</span><span class="o">=</span><span class="k">$(</span>curl <span class="nt">-s</span> https://api.github.com/repos/vmware/dispatch/releases/latest | jq <span class="nt">-r</span> .name<span class="k">)</span>
</code></pre></div></div>

<blockquote>
  <p>Note: If you don’t have <a href="https://stedolan.github.io/jq/">jq</a> and don’t want to install it, you can just manually parse
the JSON response and grab the version.</p>
</blockquote>

<h4 id="for-macos">For MacOS</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-OL</span> https://github.com/vmware/dispatch/releases/download/<span class="nv">$LATEST</span>/dispatch-darwin
<span class="nv">$ </span>chmod +x dispatch-darwin
<span class="nv">$ </span>mv dispatch-darwin /usr/local/bin/dispatch
</code></pre></div></div>

<h4 id="for-linux">For Linux</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-OL</span> https://github.com/vmware/dispatch/releases/download/<span class="nv">$LATEST</span>/dispatch-linux
<span class="nv">$ </span>chmod +x dispatch-linux
<span class="nv">$ </span>mv dispatch-linux /usr/local/bin/dispatch
</code></pre></div></div>

<h2 id="configure-and-install-dispatch">Configure and install Dispatch:</h2>

<p>Fetch the IP address of minikube as this will be used the host for dispatch services.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">DISPATCH_HOST</span><span class="o">=</span><span class="k">$(</span>minikube ip<span class="k">)</span>
</code></pre></div></div>

<p>Configure the installation (note: you must substitute the IP address where $DISPATCH_HOST is specified in the below config.yaml):</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="no">EOF</span><span class="sh"> &gt; config.yaml
apiGateway:
  host: </span><span class="nv">$DISPATCH_HOST</span><span class="sh">
dispatch:
  host: </span><span class="nv">$DISPATCH_HOST</span><span class="sh">
  debug: true
  skipAuth: true
</span><span class="no">EOF
</span></code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>dispatch install <span class="nt">--file</span> config.yaml
...
Config file written to: <span class="nv">$HOME</span>/.dispatch/config.json
</code></pre></div></div>
<p>Your dispatch config file $HOME/.dispatch/config.json will be generated
and have the following:-</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cat</span> <span class="nv">$HOME</span>/.dispatch/config.json
<span class="o">{</span>
    <span class="s2">"host"</span>: <span class="s2">"&lt;DISPATCH_HOST&gt;"</span>,
    <span class="s2">"port"</span>: &lt;port&gt;,
    <span class="s2">"organization"</span>: <span class="s2">""</span>,
    <span class="s2">"cookie"</span>: <span class="s2">""</span>,
    <span class="s2">"insecure"</span>: <span class="nb">true</span>,
    <span class="s2">"Json"</span>: <span class="nb">false</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="get-the-examples">Get the Examples</h2>

<p>To get the examples, you will need to clone the dispatch repository <code class="highlighter-rouge">https://github.com/vmware/dispatch.git</code> (if you’re
using the Linux VM, the examples are in <code class="highlighter-rouge">~/code/dispatch/examples</code>):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git clone https://github.com/vmware/dispatch.git
<span class="nv">$ </span><span class="nb">cd </span>dispatch
</code></pre></div></div>

<p>At this point, the environment is up and working.  Let’s seed the service
with some images and functions.  In order to get the examples, you will need
to clone the repository (if you haven’t already):</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>dispatch create <span class="nt">--file</span> seed.yaml <span class="nt">--work-dir</span> examples/
<span class="nv">$ </span>dispatch get images
   NAME   |                    URL                |  BASEIMAGE   |   STATUS    |         CREATED DATE
<span class="nt">------------------------------------------------------------------------------------------------------------------------</span>
  nodejs  | dispatchframework/nodejs-base:0.0.7   | nodejs-base  | READY       | Wed Dec  6 14:28:30 PST 2017
  python3 | dispatchframework/python3-base:0.0.7  | python3-base | INITIALIZED | Wed Dec  6 14:28:30 PST 2017

<span class="nv">$ </span>dispatch get functions
    NAME   |  IMAGE  | STATUS |         CREATED DATE
<span class="nt">------------------------------------------------------------</span>
  hello-js | nodejs | READY  | Wed Dec  6 14:29:05 PST 2017
  hello-py | python3 | READY  | Wed Dec  6 14:28:52 PST 2017
</code></pre></div></div>

<h2 id="execute-a-function">Execute a function:</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>dispatch <span class="nb">exec </span>hello-py <span class="nt">--input</span> <span class="s1">'{"name": "Jon", "place": "Winterfell"}'</span> <span class="nt">--wait</span>
<span class="o">{</span>
    <span class="s2">"blocking"</span>: <span class="nb">true</span>,
    <span class="s2">"executedTime"</span>: 1515624222,
    <span class="s2">"finishedTime"</span>: 1515624222,
    <span class="s2">"functionId"</span>: <span class="s2">"5138d918-e78f-41d6-aece-769addd3eed7"</span>,
    <span class="s2">"functionName"</span>: <span class="s2">"hello-py"</span>,
    <span class="s2">"input"</span>: <span class="o">{</span>
        <span class="s2">"name"</span>: <span class="s2">"Jon"</span>,
        <span class="s2">"place"</span>: <span class="s2">"Winterfell"</span>
    <span class="o">}</span>,
    <span class="s2">"logs"</span>: null,
    <span class="s2">"name"</span>: <span class="s2">"b5b3c1f5-fa8a-4b38-b7d1-475c44b76114"</span>,
    <span class="s2">"output"</span>: <span class="o">{</span>
        <span class="s2">"myField"</span>: <span class="s2">"Hello, Jon from Winterfell"</span>
    <span class="o">}</span>,
    <span class="s2">"reason"</span>: null,
    <span class="s2">"secrets"</span>: <span class="o">[]</span>,
    <span class="s2">"status"</span>: <span class="s2">"READY"</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="add-an-api-endpoint">Add an API endpoint:</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>dispatch create api <span class="nt">--https-only</span> <span class="nt">--method</span> POST <span class="nt">--path</span> /hello post-hello hello-py
</code></pre></div></div>

<p>Find the port for the api-gateway service (we are using the NodePort service
type):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kubectl <span class="nt">-n</span> kong get service api-gateway-kongproxy
NAME                    CLUSTER-IP     EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>                      AGE
api-gateway-kongproxy   10.107.109.1   &lt;nodes&gt;       80:31788/TCP,443:32611/TCP   19m
</code></pre></div></div>

<p>We are looking at the port associated with https/443 =&gt; 32611</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-k</span> <span class="s2">"https://</span><span class="nv">$DISPATCH_HOST</span><span class="s2">:32611/hello"</span> <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="nt">-d</span> <span class="s1">'{"name": "Jon", "place": "winterfell"}'</span>
<span class="o">{</span><span class="s2">"myField"</span>:<span class="s2">"Hello, Jon from winterfell"</span><span class="o">}</span>
</code></pre></div></div>

<p>Now go build something!</p>

                    </section>
                </div>

                <nav class="sidenav clr-nav-level-2">
                    <section class="sidenav-content">
                    

                    
                    
                        <!-- front section is top level and has no label -->
                        <section class="nav-group collapsible">

                        
                            <ul class="nav-list">
                                <documentation-nav-links type="">
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/front/overview">Overview</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/front/roadmap">Roadmap</a></li>
                                
                                
                                </documentation-nav-links>
                            </ul>
                        </section>
                    
                    
                    
                        <!-- front section is top level and has no label -->
                        <section class="nav-group collapsible">

                        
                        
                            
                            <input id="Guides" type="checkbox">
                            
                            <label for="Guides">Guides</label>
                        
                        
                            <ul class="nav-list">
                                <documentation-nav-links type="Guides">
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/building">Building</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/built-in-event-drivers">Built In Event Drivers</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/custom-event-drivers">Custom Event Drivers</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/docker-for-mac">Docker For Mac</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/gke">Gke</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/minikube">Minikube</a></li>
                                
                                
                                
                                    <li><a class="nav-link active" routerlinkactive="active" href="/dispatch/documentation/guides/quickstart">Quickstart</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/setup-authentication">Setup Authentication</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/setup-service-acccount-authentication">Setup Service Acccount Authentication</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/troubleshooting">Troubleshooting</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/working-with-events">Working With Events</a></li>
                                
                                
                                </documentation-nav-links>
                            </ul>
                        </section>
                    
                    
                    
                        <!-- front section is top level and has no label -->
                        <section class="nav-group collapsible">

                        
                        
                            
                            <input id="posts" type="checkbox" checked>
                            
                            <label for="posts">Posts</label>
                        
                        
                            <ul class="nav-list">
                                <documentation-nav-links type="">
                                
                                
                                    <li><a class="nav-link" href="/dispatch/2018/05/23/v0-1-15-release.html">v0.1.15 Dispatch Release</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/2018/06/06/v0-1-16-release.html">v0.1.16 Dispatch Release</a></li>
                                
                                
                                </documentation-nav-links>
                            </ul>
                        </section>
                    
                    
                    
                        <!-- front section is top level and has no label -->
                        <section class="nav-group collapsible">

                        
                        
                            
                            <input id="Specifications" type="checkbox" checked>
                            
                            <label for="Specifications">Specifications</label>
                        
                        
                            <ul class="nav-list">
                                <documentation-nav-links type="Specifications">
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/api-gateway">Api Gateway</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/application">Application</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/development">Development</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/dispatch">Dispatch</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/error-handling">Error Handling</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/event-gateway">Event Gateway</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/event-manager">Event Manager</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/function-gateway">Function Gateway</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/function-schema-validation">Function Schema Validation</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/identity-management">Identity Management</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/image-manager">Image Manager</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/language-support">Language Support</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/rest-api">Rest Api</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/secrets-store">Secrets Store</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/service-manager">Service Manager</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/terminology">Terminology</a></li>
                                
                                
                                </documentation-nav-links>
                            </ul>
                        </section>
                    
                    
                    
                        <!-- front section is top level and has no label -->
                        <section class="nav-group collapsible">

                        
                        
                            
                            <input id="Usage" type="checkbox" checked>
                            
                            <label for="Usage">Usage</label>
                        
                        
                            <ul class="nav-list">
                                <documentation-nav-links type="Usage">
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/usage/api">API Endpoints</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/usage/event-drivers">Events Drivers and Subscriptions</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/usage/functions">Functions</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/usage/iam">Roles and Policies</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/usage/images">Images and Base Images</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/usage/services">Services Integration</a></li>
                                
                                
                                </documentation-nav-links>
                            </ul>
                        </section>
                    
                    
                    </section>
                </nav>
            </documentation>
        <footer></footer>
<script>
    anchors.add();
</script>
<script src="/dispatch/assets/js/scale.fix.js"></script>
        </clr-main-container>
    </body>
</html>