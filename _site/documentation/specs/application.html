<!doctype html>
<html lang="en-US">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Application | Dispatch Serverless Framework</title>
<meta property="og:title" content="Application" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Application-scoped Dispatch" />
<meta property="og:description" content="Application-scoped Dispatch" />
<link rel="canonical" href="http://localhost:4000/dispatch/documentation/specs/application" />
<meta property="og:url" content="http://localhost:4000/dispatch/documentation/specs/application" />
<meta property="og:site_name" content="Dispatch Serverless Framework" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-06-11T14:24:45-07:00" />
<script type="application/ld+json">
{"name":null,"description":"Application-scoped Dispatch","author":null,"@type":"BlogPosting","url":"http://localhost:4000/dispatch/documentation/specs/application","publisher":null,"image":null,"headline":"Application","dateModified":"2018-06-11T14:24:45-07:00","datePublished":"2018-06-11T14:24:45-07:00","sameAs":null,"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/dispatch/documentation/specs/application"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/dispatch/assets/node_modules/@clr/icons/clr-icons.min.css">
    <script src="/dispatch/assets/node_modules/@webcomponents/custom-elements/custom-elements.min.js"></script>
    <script src="/dispatch/assets/node_modules/@clr/icons/clr-icons.min.js"></script>
    <script src="/dispatch/assets/node_modules/anchor-js/anchor.js"></script>
    <link rel="stylesheet" href="/dispatch/assets/node_modules/@clr/ui/clr-ui.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>
    <link rel="stylesheet" href="/dispatch/assets/css/style.css?v=cd131ece455317a0ce1219b8b78ef55e8e6bf546">
    <meta name="viewport" content="width=device-width">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/dispatch/assets/images/dispatch.ico/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/dispatch/assets/images/dispatch.ico/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="/dispatch/assets/images/dispatch.ico/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/dispatch/assets/images/dispatch.ico/favicon-16x16.png" sizes="16x16" />
    <meta name="application-name" content="&nbsp;"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="/dispatch/assets/images/dispatch.ico/mstile-144x144.png" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
    <body>
        <clr-main-container class="main-container">
        <clr-header class="header-6 header">
    <button class="header-hamburger-trigger" type="button">
        <span></span>
    </button>

    <div class="branding">
        <a class="logo-and-title" routerlink="/" href="http://github.com/vmware/dispatch">
            <!-- <span class="clr-icon clarity-logo"></span>
            <span class="title">Project Dispatch</span> -->
            <img class="dispatch-logo" src="/dispatch/assets/images/logo-small-200.png">
        </a>
    </div>
    <div class="divider"></div>
    <div class="header-nav clr-nav-level-1">
        <a class="nav-link " id="home-link" routerlink="/" routerlinkactive="active" href="/dispatch/"><span class="nav-text">Home</span></a>
        <a class="nav-link active" routerlink="/documentation" routerlinkactive="active" href="/dispatch/documentation/front/overview"><span class="nav-text">Documentation</span></a>
        <a class="nav-link " routerlink="/code" routerlinkactive="active" href="/dispatch/code"><span class="nav-text">Code</span></a>
        <a class="nav-link " routerlink="/community" routerlinkactive="active" href="/dispatch/community"><span class="nav-text">Community</span></a>
        <a class="nav-link " routerlink="/news" routerlinkactive="active" href="/dispatch/news"><span class="nav-text">What's New</span></a>
    </div>
    <div class="settings">
        <iframe class="github-btn" frameborder="0" height="20px" scrolling="0" src="https://ghbtns.com/github-btn.html?user=vmware&repo=dispatch&type=star&count=true" width="170px"></iframe>
    </div>

    <button class="header-overflow-trigger" type="button">
        <span></span>
    </button>
    <div class="header-backdrop"></div>
</clr-header>

            <documentation class="content-container"><router-outlet></router-outlet>
                <div class="content-area">
                    <section class="dox-content">
                    <h1 id="application-scoped-dispatch">Application-scoped Dispatch</h1>

<h2 id="introduction">Introduction</h2>

<p>Within Dispatch, we believe the concept of “Application” is a very important aspect. In a non-trivial deployment of dispatch, Applications group and isolate resources of different function unit, provide the ability of searching and filtering resources; they also facilitate permission management and access controls.</p>

<p>In addition to those basic functionalities, the concept of Application also provides a step forwards to advanced features of cloud native apps, e.g. lifecycle management (i.e. creation/delete, import and export Applications, scaling up and down based on demand/usage);, function execution workflow management, visualized workflow GUI; application level monitoring and analyzing; function/application external dependencies management.</p>

<p>In this design documents, we outline several design concerns and implementation decisions with regards to the concept of a Serverless Application.</p>

<h2 id="manage-entities-with-application">Manage Entities with Application</h2>

<p>In this section, we discuss the relationships of Application and Entities, how Entities will be organized and managed by Applications.</p>

<h3 id="relationship-of-applications-and-entities">Relationship of Applications and Entities</h3>

<p>We identified three kinds of relationships of Application and Entities. First, many-to-many, applications consists of multiple entities and one entity can be used by multiple Applications. Second, one-to-many, an entity is only used by one Application; lastly, some entities have no obvious relationship with Application, let’s call them system-scoped entities. They may be used by applications or entities of an application.</p>

<p>We will discuss all kinds of Entities that Dispatch current manages case by case.</p>

<h3 id="base-images">Base Images</h3>

<p>The intention of Base Images is to provide an easy way for dispatch system admin to easily manage lifecycle of function runtimes (operation systems and languages runtime) in a centralized manner and minimize developers’ effects of managing infrastructures. Developers of different Applications are encouraged to leverage existing Base Images in the dispatch system to build their own functions. Therefore, Base Images should be shared by as many applications as they can, and they should be system scoped entities.</p>

<h3 id="identities--access-controls---users--groups">Identities &amp; Access Controls - Users &amp; Groups</h3>

<p>It hasn’t be decided whether or not we will manage users, groups and access controls within dispatch or with the help of an existing framework. If we decide we should include them as dispatch managed entities, they should be system-scoped. In addition to it, there should be some description/information on which users/groups have permissions on which applications.</p>

<h3 id="functions-images--secrets">Functions, Images &amp; Secrets</h3>

<p>In our vision of Dispatch, functions, images and secrets are more like packages, libraries or source code of a traditional application. They are not the runtime resources of a single Application instance. With this point of perspective, we think there are potential use cases that a function or function image could be used by multiple applications. However, note there indeed are some debates going on here. Rather than categorizing them deterministically into one single basket, we decide to keep it flexible in implementation, and iterate quickly as we see sufficient use cases in the future.</p>

<p>Currently, we will temporarily put them into the one-to-many category. However, again, we will be flexible and extensible in implementation detail.</p>

<h3 id="function-runs">Function Runs</h3>

<p>Function Runs are entities generated from function executations. They are runtime entities and they should belongs to a single Application.</p>

<h3 id="apis">APIs</h3>

<p>APIs are considered tightly bound with an Application. Different applications have no reason to share one API. Therefore, one API should stay in the same Application as its bounded Function.</p>

<h3 id="event-drivers-topics--subscriptions">Event Drivers, Topics &amp; Subscriptions</h3>

<p>There are indeed some use cases that some events maybe shared by multiple applications, (e.g. events from the dispatch or kubernetes internal, VM lifecycle events may be in demand for several applications).</p>

<p>However, in some other use cases, events maybe only be used by specific applications, e.g. a PR build failure event triggers a report to a internal Slack channel, as we can image, it will almost be used by only one dispatch application.</p>

<p>Both shared one-to-many and many-to-many events are valid use cases. When there’s not enough real use cases it is hard to decide which is dominant and which is rare. Again, we decide to keep it flexible at this point. In the first iteration, we will set them as private to an Application for now.</p>

<p>As a side note, although Event Topics are not a dispatch entity now, we should also consider to scope them by Application (especially if we decide that Event Subscriptions should be scoped). For example, add the Application name as a prefix of a topic name.</p>

<h2 id="implementation-detail">Implementation Detail</h2>

<h3 id="the-application-entity">The Application Entity</h3>

<p>As most entities are organized by applications, an Application itself also has a life cycle. To manage applications, it is best to manage and maintain it with the existing Entity Store.</p>

<p>The Application Entity will be private to a single Application. With respect to management, they will only be managed by system admin and the users who has right permissions on it. Again, as access control is not the main concern of the this article, we won’t go into detail about that.</p>

<p>An Application Entity should have references to a set of Entities it manages/uses. It facilitates further expansion of advanced features with regards to a serverless application. In the next step, there might be attributes related to application-level access control, resource limits, as well as schema/definition of the workflow.</p>

<h3 id="the-application-tags-in-other-entities">The Application Tags in other Entities</h3>

<p>We are going to associate an Entity to Applications with tags. The advantage of using tags instead of an fixed struct field is that it provides a flexible way to extend the relationship of Applications and Entities.</p>

<h3 id="operations-related-to-applications">Operations related to Applications</h3>

<p>Here we list a set of operations required, in additional to existing ones. They will be used to manage Applications as well as filter entities by Applications.</p>

<ul>
  <li>list applications
    <ul>
      <li>e.g. <code class="highlighter-rouge">dispatch get applications</code></li>
    </ul>
  </li>
  <li>manage an application
    <ul>
      <li>create, delete and update</li>
    </ul>
  </li>
  <li>list entities of an applications
    <ul>
      <li>e.g. <code class="highlighter-rouge">dispatch get --application example-app</code></li>
    </ul>
  </li>
  <li>get/list a specific entity of an applications
    <ul>
      <li>e.g. <code class="highlighter-rouge">dispatch get functions --application example-app</code></li>
    </ul>
  </li>
  <li>get entity by name and application
    <ul>
      <li>e.g. <code class="highlighter-rouge">dispatch get function hello --application example-app</code></li>
    </ul>
  </li>
  <li>list all entities of all applications
    <ul>
      <li>e.g. <code class="highlighter-rouge">dispatch get --all-applications</code></li>
    </ul>
  </li>
</ul>

                    </section>
                </div>

                <nav class="sidenav clr-nav-level-2">
                    <section class="sidenav-content">
                    

                    
                    
                        <!-- front section is top level and has no label -->
                        <section class="nav-group collapsible">

                        
                            <ul class="nav-list">
                                <documentation-nav-links type="">
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/front/overview">Overview</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/front/roadmap">Roadmap</a></li>
                                
                                
                                </documentation-nav-links>
                            </ul>
                        </section>
                    
                    
                    
                        <!-- front section is top level and has no label -->
                        <section class="nav-group collapsible">

                        
                        
                            
                            <input id="Guides" type="checkbox" checked>
                            
                            <label for="Guides">Guides</label>
                        
                        
                            <ul class="nav-list">
                                <documentation-nav-links type="Guides">
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/building">Building</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/built-in-event-drivers">Built In Event Drivers</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/custom-event-drivers">Custom Event Drivers</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/docker-for-mac">Docker For Mac</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/gke">Gke</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/minikube">Minikube</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/quickstart">Quickstart</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/setup-authentication">Setup Authentication</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/setup-service-acccount-authentication">Setup Service Acccount Authentication</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/troubleshooting">Troubleshooting</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/guides/working-with-events">Working With Events</a></li>
                                
                                
                                </documentation-nav-links>
                            </ul>
                        </section>
                    
                    
                    
                        <!-- front section is top level and has no label -->
                        <section class="nav-group collapsible">

                        
                        
                            
                            <input id="posts" type="checkbox" checked>
                            
                            <label for="posts">Posts</label>
                        
                        
                            <ul class="nav-list">
                                <documentation-nav-links type="">
                                
                                
                                    <li><a class="nav-link" href="/dispatch/2018/05/23/v0-1-15-release.html">v0.1.15 Dispatch Release</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/2018/06/06/v0-1-16-release.html">v0.1.16 Dispatch Release</a></li>
                                
                                
                                </documentation-nav-links>
                            </ul>
                        </section>
                    
                    
                    
                        <!-- front section is top level and has no label -->
                        <section class="nav-group collapsible">

                        
                        
                            
                            <input id="Specifications" type="checkbox">
                            
                            <label for="Specifications">Specifications</label>
                        
                        
                            <ul class="nav-list">
                                <documentation-nav-links type="Specifications">
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/api-gateway">Api Gateway</a></li>
                                
                                
                                
                                    <li><a class="nav-link active" routerlinkactive="active" href="/dispatch/documentation/specs/application">Application</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/development">Development</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/dispatch">Dispatch</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/error-handling">Error Handling</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/event-gateway">Event Gateway</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/event-manager">Event Manager</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/function-gateway">Function Gateway</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/function-schema-validation">Function Schema Validation</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/identity-management">Identity Management</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/image-manager">Image Manager</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/language-support">Language Support</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/rest-api">Rest Api</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/secrets-store">Secrets Store</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/service-manager">Service Manager</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/specs/terminology">Terminology</a></li>
                                
                                
                                </documentation-nav-links>
                            </ul>
                        </section>
                    
                    
                    
                        <!-- front section is top level and has no label -->
                        <section class="nav-group collapsible">

                        
                        
                            
                            <input id="Usage" type="checkbox" checked>
                            
                            <label for="Usage">Usage</label>
                        
                        
                            <ul class="nav-list">
                                <documentation-nav-links type="Usage">
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/usage/api">API Endpoints</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/usage/event-drivers">Events Drivers and Subscriptions</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/usage/functions">Functions</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/usage/iam">Roles and Policies</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/usage/images">Images and Base Images</a></li>
                                
                                
                                
                                    <li><a class="nav-link" href="/dispatch/documentation/usage/services">Services Integration</a></li>
                                
                                
                                </documentation-nav-links>
                            </ul>
                        </section>
                    
                    
                    </section>
                </nav>
            </documentation>
        <footer></footer>
<script>
    anchors.add();
</script>
<script src="/dispatch/assets/js/scale.fix.js"></script>
        </clr-main-container>
    </body>
</html>